"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1459],{4580(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"contributing","title":"Contributing to Loom","description":"Help us weave the future of Typst.","source":"@site/docs/contributing.md","sourceDirName":".","slug":"/contributing","permalink":"/loom/contributing","draft":false,"unlisted":false,"editUrl":"https://github.com/leonieziechmann/loom/tree/main/docs/docs/contributing.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"Utilities API","permalink":"/loom/api-reference/utils"}}');var o=s(4848),r=s(8453);const t={sidebar_position:7},l="Contributing to Loom",c={},d=[{value:"Reporting Bugs",id:"reporting-bugs",level:2},{value:"Development Setup",id:"development-setup",level:2},{value:"Core Philosophy",id:"core-philosophy",level:2},{value:"Pull Request Process",id:"pull-request-process",level:2},{value:"Documentation",id:"documentation",level:2}];function a(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"contributing-to-loom",children:"Contributing to Loom"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Help us weave the future of Typst."})}),"\n",(0,o.jsx)(n.p,{children:"First of all, thank you! Loom is an ambitious project trying to push the boundaries of what is possible in Typst. Whether you are fixing a typo, reporting a bug, or proposing a new architecture feature, your help is welcome."}),"\n",(0,o.jsx)(n.h2,{id:"reporting-bugs",children:"Reporting Bugs"}),"\n",(0,o.jsxs)(n.p,{children:["Loom is complex. If you encounter a crash or an infinite loop, providing a ",(0,o.jsx)(n.strong,{children:"Minimal Reproduction"})," is critical."]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Isolate the issue:"})," Try to reproduce the bug with just ",(0,o.jsx)(n.code,{children:"loom"})," and standard Typst elements (no external packages if possible)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Check the logs:"})," Run your reproduction with ",(0,o.jsx)(n.code,{children:"debug: true"})," and include the output."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Version:"})," State clearly which version of Loom and Typst you are using."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Good Issue Title:"})," ",(0,o.jsxs)(n.em,{children:['"Infinite loop when nesting ',(0,o.jsx)(n.code,{children:"data-motif"})," inside ",(0,o.jsx)(n.code,{children:"table"}),' header"']}),"\n",(0,o.jsx)(n.strong,{children:"Bad Issue Title:"})," ",(0,o.jsx)(n.em,{children:'"My document doesn\'t compile"'})]}),"\n",(0,o.jsx)(n.h2,{id:"development-setup",children:"Development Setup"}),"\n",(0,o.jsx)(n.p,{children:"Loom is a pure Typst package. You don't need Rust or Node.js to develop it, just the Typst CLI."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Clone the repository:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/leonieziechmann/loom.git\ncd loom\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Run the Tests:"}),"\nWe maintain a suite of tests in the ",(0,o.jsx)(n.code,{children:"tests/"})," directory covering everything from basic signals to heavy load performance."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Compile a specific test\ntypst compile tests/01-ast-reconstruction.typ\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"core-philosophy",children:"Core Philosophy"}),"\n",(0,o.jsx)(n.p,{children:"When contributing code, keep these three principles in mind:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Defensive Programming:"}),"\nLoom runs in a hostile environment (a user's document). Assume the user will pass ",(0,o.jsx)(n.code,{children:"none"}),", invalid keys, or try to nest things incorrectly."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:"Always"})," check bounds."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.em,{children:"Always"})," provide helpful error messages using ",(0,o.jsx)(n.code,{children:"assert"})," or ",(0,o.jsx)(n.code,{children:"panic"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Performance First:"}),'\nEvery function you write in the "hot path" (the ',(0,o.jsx)(n.code,{children:"intertwine"})," loop) will be executed thousands of times per compile."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Avoid deep copies of the Context dictionary where possible."}),"\n",(0,o.jsxs)(n.li,{children:["Avoid unnecessary ",(0,o.jsx)(n.code,{children:".map()"})," calls on large arrays."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Backward Compatibility:"}),"\nLoom is a foundational library. Breaking the API (e.g., changing how ",(0,o.jsx)(n.code,{children:"measure"})," works) breaks everyone's templates. Discuss major changes in an Issue first."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"pull-request-process",children:"Pull Request Process"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Fork"})," the repo and create your branch from ",(0,o.jsx)(n.code,{children:"main"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Add Tests"})," for your new feature or bug fix."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Format"})," your code. Keep it clean and readable."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Submit"})," the PR! We will review it as soon as possible."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"documentation",children:"Documentation"}),"\n",(0,o.jsxs)(n.p,{children:["Documentation is just as important as code. If you add a feature, please add a corresponding guide in ",(0,o.jsx)(n.code,{children:"docs/"}),".\nWe use Docusaurus for this site. You can run it locally with:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd docs\nnpm install\nnpm start\n"})}),"\n",(0,o.jsx)(n.p,{children:"Thank you for building with us!"})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const o={},r=i.createContext(o);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);