"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[924],{5287(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"getting-started/installation","title":"Installation","description":"Setting up the Engine","source":"@site/docs/getting-started/installation.md","sourceDirName":"getting-started","slug":"/getting-started/installation","permalink":"/loom/getting-started/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/leonieziechmann/loom/tree/main/docs/getting-started/installation.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Getting Started","permalink":"/loom/getting-started/"},"next":{"title":"Your First Component","permalink":"/loom/getting-started/first-component"}}');var r=n(4848),i=n(8453);const a={sidebar_position:1},s="Installation",l={},c=[{value:"1. Import the Package",id:"1-import-the-package",level:2},{value:"2. The Wrapper Pattern (Recommended)",id:"2-the-wrapper-pattern-recommended",level:2},{value:"<code>loom-wrapper.typ</code>",id:"loom-wrappertyp",level:3},{value:"3. Usage in Your Document",id:"3-usage-in-your-document",level:2},{value:"<code>main.typ</code>",id:"maintyp",level:3},{value:"Quick Start Template",id:"quick-start-template",level:2}];function d(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"installation",children:"Installation"})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Setting up the Engine"})}),"\n",(0,r.jsx)(t.p,{children:"Loom is distributed as a standard Typst package. However, because Loom is a meta-engine that manages its own memory and state, you shouldn't just import it directly into every file."}),"\n",(0,r.jsxs)(t.p,{children:["Instead, we use the ",(0,r.jsx)(t.strong,{children:"Wrapper Pattern"})," to create a dedicated instance for your project."]}),"\n",(0,r.jsx)(t.h2,{id:"1-import-the-package",children:"1. Import the Package"}),"\n",(0,r.jsx)(t.p,{children:"Loom is available on Typst Universe. You can import it using the standard package syntax."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typ",children:'#import "@preview/loom:0.1.0": construct-loom\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsxs)(t.em,{children:["(Note: Check the ",(0,r.jsx)(t.a,{href:"https://typst.app/universe/package/loom",children:"Typst Universe"})," for the latest version number.)"]})}),"\n",(0,r.jsx)(t.h2,{id:"2-the-wrapper-pattern-recommended",children:"2. The Wrapper Pattern (Recommended)"}),"\n",(0,r.jsxs)(t.p,{children:["To keep your code clean and prevent namespace collisions, you should initialize Loom ",(0,r.jsx)(t.strong,{children:"once"})," in a central library file and export the tools you need."]}),"\n",(0,r.jsxs)(t.p,{children:["Create a file named ",(0,r.jsx)(t.code,{children:"loom-wrapper.typ"})," (or ",(0,r.jsx)(t.code,{children:"loomw.typ"}),") in your project root."]}),"\n",(0,r.jsx)(t.h3,{id:"loom-wrappertyp",children:(0,r.jsx)(t.code,{children:"loom-wrapper.typ"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typ",children:'#import "@preview/loom:0.1.0"\n#import loom: guards, mutator\n\n// 1. Construct a unique instance for your project.\n// The key (<my-project>) isolates your components from other libraries.\n#let (weave, motif, prebuild-motif) = loom.construct-loom(<my-project>)\n\n// 2. Export the specific tools you want to use.\n// This keeps your API clean for the rest of your document.\n\n// The Engine\n#let weave = weave\n\n// The Component Constructors\n#let motif = motif.plain\n#let managed = motif.managed\n#let content-motif = motif.content\n#let data-motif = motif.data\n\n// Utilities\n#let scope = loom.context.scope\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Why do this?"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Isolation:"})," By passing ",(0,r.jsx)(t.code,{children:"<my-project>"}),", you ensure that your components don't accidentally receive signals from a ",(0,r.jsx)(t.em,{children:"different"})," library that also uses Loom."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Convenience:"})," You can type ",(0,r.jsx)(t.code,{children:"#motif(..)"})," instead of ",(0,r.jsx)(t.code,{children:"#(loom.motif.plain)(..)"}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Control:"})," You decide exactly which modules (",(0,r.jsx)(t.code,{children:"query"}),", ",(0,r.jsx)(t.code,{children:"mutator"}),") are exposed to your users."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"3-usage-in-your-document",children:"3. Usage in Your Document"}),"\n",(0,r.jsxs)(t.p,{children:["Now, in your main document (",(0,r.jsx)(t.code,{children:"main.typ"}),"), you simply import your wrapper."]}),"\n",(0,r.jsx)(t.h3,{id:"maintyp",children:(0,r.jsx)(t.code,{children:"main.typ"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typ",children:'#import "loom-wrapper.typ": *\n\n// Now you can use the tools directly\n#let my-component = content-motif(\n  draw: (ctx, body) => block(stroke: 1pt, body)\n)\n\n// Start the engine\n#show: weave.with(debug: false)\n\n#my-component[\n  Hello, Loom!\n]\n'})}),"\n",(0,r.jsx)(t.h2,{id:"quick-start-template",children:"Quick Start Template"}),"\n",(0,r.jsx)(t.p,{children:"If you want to copy-paste a complete setup, here is the minimal boilerplate:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typ",children:'// --- loom-wrapper.typ ---\n#import "@preview/loom:0.1.0"\n#let (weave, motif, ..) = loom.construct-loom(<app>)\n\n#let content-motif = motif.content\n'})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typ",children:'// --- main.typ ---\n#import "loom-wrapper.typ": *\n#show: weave.with()\n\n#content-motif(draw: (ctx, body) => [\n  = Reactive Document\n  #body\n])[\n  It works!\n]\n'})})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,t,n){n.d(t,{R:()=>a,x:()=>s});var o=n(6540);const r={},i=o.createContext(r);function a(e){const t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(i.Provider,{value:t},e.children)}}}]);