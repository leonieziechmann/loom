"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[1937],{4980(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"api-reference/motifs/frame","title":"The Frame Object","description":"Frames are the fundamental unit of data exchange in Loom. They act as standardized envelopes that wrap user signals with system metadata, ensuring the engine can route and normalize data regardless of the component type.","source":"@site/docs/api-reference/motifs/frame.md","sourceDirName":"api-reference/motifs","slug":"/api-reference/motifs/frame","permalink":"/loom/canary/api-reference/motifs/frame","draft":false,"unlisted":false,"editUrl":"https://github.com/leonieziechmann/loom/tree/main/docs/docs/api-reference/motifs/frame.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Motifs API","permalink":"/loom/canary/api-reference/motifs/"},"next":{"title":"Query API","permalink":"/loom/canary/api-reference/query"}}');var a=r(4848),t=r(8453);const d={sidebar_position:1},i="The Frame Object",o={},c=[{value:"<code>loom.frame.new</code>",id:"loomframenew",level:2},{value:"Parameters",id:"parameters",level:3},{value:"<code>loom.frame.normalize</code>",id:"loomframenormalize",level:2},{value:"<code>loom.frame.is-frame</code>",id:"loomframeis-frame",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"the-frame-object",children:"The Frame Object"})}),"\n",(0,a.jsx)(n.p,{children:"Frames are the fundamental unit of data exchange in Loom. They act as standardized envelopes that wrap user signals with system metadata, ensuring the engine can route and normalize data regardless of the component type."}),"\n",(0,a.jsxs)(n.p,{children:["These functions are located in the module ",(0,a.jsx)(n.code,{children:"loom.frame"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"loomframenew",children:(0,a.jsx)(n.code,{children:"loom.frame.new"})}),"\n",(0,a.jsxs)(n.p,{children:["Creates a new frame instance. This is required when returning signals from a ",(0,a.jsx)(n.code,{children:"motif.plain"})," or when manually constructing data nodes."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typ",children:'loom.frame.new(\n  kind: "node",\n  key: none,\n  path: (),\n  signal: none\n)\n'})}),"\n",(0,a.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Parameter"}),(0,a.jsx)(n.th,{children:"Type"}),(0,a.jsx)(n.th,{children:"Default"}),(0,a.jsx)(n.th,{children:"Description"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"kind"})})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"str"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:'"node"'})}),(0,a.jsx)(n.td,{children:'The category of the component (e.g., "task", "ingredient").'})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"key"})})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"str"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"none"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"none"})})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"path"})})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"array"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"()"})}),(0,a.jsx)(n.td,{children:"The absolute path to the component in the hierarchy."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.code,{children:"signal"})})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"any"})}),(0,a.jsx)(n.td,{children:(0,a.jsx)(n.code,{children:"none"})}),(0,a.jsx)(n.td,{children:"The user-defined data payload."})]})]})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"loomframenormalize",children:(0,a.jsx)(n.code,{children:"loom.frame.normalize"})}),"\n",(0,a.jsxs)(n.p,{children:["Ensures that data returned by a motif is converted into a consistent ",(0,a.jsx)(n.code,{children:"array<frame>"})," structure."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"none"})," becomes ",(0,a.jsx)(n.code,{children:"()"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["A single ",(0,a.jsx)(n.code,{children:"frame"})," becomes ",(0,a.jsx)(n.code,{children:"(frame,)"}),"."]}),"\n",(0,a.jsx)(n.li,{children:"Arrays are flattened and non-frame items cause a panic."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typ",children:"loom.frame.normalize(data)\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"loomframeis-frame",children:(0,a.jsx)(n.code,{children:"loom.frame.is-frame"})}),"\n",(0,a.jsxs)(n.p,{children:["Verifies if a value is a valid Loom frame by checking for the internal ",(0,a.jsx)(n.code,{children:'type: "frame"'})," marker and all required metadata fields."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typ",children:"loom.frame.is-frame(data)\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Returns:"})," ",(0,a.jsx)(n.code,{children:"bool"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453(e,n,r){r.d(n,{R:()=>d,x:()=>i});var s=r(6540);const a={},t=s.createContext(a);function d(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);