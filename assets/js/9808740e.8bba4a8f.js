"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[4712],{103(e,n,r){r.r(n),r.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>o,frontMatter:()=>c,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"api-reference/query","title":"Query API","description":"Traversal and Aggregation","source":"@site/docs/api-reference/query.md","sourceDirName":"api-reference","slug":"/api-reference/query","permalink":"/loom/canary/api-reference/query","draft":false,"unlisted":false,"editUrl":"https://github.com/leonieziechmann/loom/tree/main/docs/docs/api-reference/query.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"The Frame Object","permalink":"/loom/canary/api-reference/motifs/frame"},"next":{"title":"Guards API","permalink":"/loom/canary/api-reference/guards"}}');var d=r(4848),i=r(8453);const c={sidebar_position:3},l="Query API",t={},h=[{value:"Search &amp; Traversal",id:"search--traversal",level:2},{value:"<code>select</code> / <code>select-signals</code>",id:"select--select-signals",level:3},{value:"<code>find</code> / <code>find-signal</code>",id:"find--find-signal",level:3},{value:"<code>collect</code> / <code>collect-signals</code>",id:"collect--collect-signals",level:3},{value:"<code>where</code> / <code>where-signals</code>",id:"where--where-signals",level:3},{value:"Data Extraction &amp; Aggregation",id:"data-extraction--aggregation",level:2},{value:"<code>pluck</code>",id:"pluck",level:3},{value:"<code>sum-signals</code>",id:"sum-signals",level:3},{value:"<code>group-by</code> / <code>group-signals</code>",id:"group-by--group-signals",level:3},{value:"<code>fold</code>",id:"fold",level:3}];function a(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"query-api",children:"Query API"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Traversal and Aggregation"})}),"\n",(0,d.jsxs)(n.p,{children:["The ",(0,d.jsx)(n.code,{children:"query"})," module provides a functional API to filter, search, and aggregate data from child components. It is primarily used within the ",(0,d.jsx)(n.code,{children:"measure"})," phase of a component to extract information from the ",(0,d.jsx)(n.code,{children:"children"})," array."]}),"\n",(0,d.jsx)(n.h2,{id:"search--traversal",children:"Search & Traversal"}),"\n",(0,d.jsx)(n.p,{children:"These functions help you navigate the component tree and locate specific elements."}),"\n",(0,d.jsx)(n.p,{children:"For most traversal functions, there are two variants:"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Standard"})," (e.g., ",(0,d.jsx)(n.code,{children:"select"}),"): Returns ",(0,d.jsx)(n.strong,{children:"frames"})," (the component envelopes containing metadata like ",(0,d.jsx)(n.code,{children:"path"})," and ",(0,d.jsx)(n.code,{children:"kind"}),")."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Signals"})," (e.g., ",(0,d.jsx)(n.code,{children:"select-signals"}),"): Returns the ",(0,d.jsx)(n.strong,{children:"user data"})," directly (the ",(0,d.jsx)(n.code,{children:"signal"})," payload), automatically unwrapping the frame and filtering out empty signals."]}),"\n"]}),"\n",(0,d.jsxs)(n.h3,{id:"select--select-signals",children:[(0,d.jsx)(n.code,{children:"select"})," / ",(0,d.jsx)(n.code,{children:"select-signals"})]}),"\n",(0,d.jsxs)(n.p,{children:["Filters the list of ",(0,d.jsx)(n.strong,{children:"immediate"})," children, returning only those matching a specific component kind."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"query.select(children, kind)\nquery.select-signals(children, kind)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"children"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"array<frame>"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The list of frames to search."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"kind"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"str"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsxs)(n.td,{children:["The component kind to match (e.g., ",(0,d.jsx)(n.code,{children:'"task"'}),")."]})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"select"}),": ",(0,d.jsx)(n.code,{children:"array<frame>"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"select-signals"}),": ",(0,d.jsx)(n.code,{children:"array<any>"})]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:'// Get frames (if you need path/key)\nlet task-frames = query.select(children, "task")\n\n// Get data directly (if you just need values)\nlet task-data = query.select-signals(children, "task")\n'})}),"\n",(0,d.jsxs)(n.h3,{id:"find--find-signal",children:[(0,d.jsx)(n.code,{children:"find"})," / ",(0,d.jsx)(n.code,{children:"find-signal"})]}),"\n",(0,d.jsxs)(n.p,{children:["Finds the ",(0,d.jsx)(n.strong,{children:"first immediate"})," child of a specific kind. Returns ",(0,d.jsx)(n.code,{children:"none"})," (or the default) if not found."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"query.find(children, kind, default: none)\nquery.find-signal(children, kind, default: none)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"children"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"array<frame>"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The list of frames to search."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"kind"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"str"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The component kind to find."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"default"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"any"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"none"})}),(0,d.jsx)(n.td,{children:"The value to return if no matching child is found."})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"find"}),": ",(0,d.jsx)(n.code,{children:"frame | none"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"find-signal"}),": ",(0,d.jsx)(n.code,{children:"any | none"})]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:'// Get the configuration object directly\nlet config = query.find-signal(children, "config", default: (:))\n'})}),"\n",(0,d.jsxs)(n.h3,{id:"collect--collect-signals",children:[(0,d.jsx)(n.code,{children:"collect"})," / ",(0,d.jsx)(n.code,{children:"collect-signals"})]}),"\n",(0,d.jsxs)(n.p,{children:["Recursively traverses the tree to find all descendants of a specific kind (or all nodes if ",(0,d.jsx)(n.code,{children:"kind"})," is ",(0,d.jsx)(n.code,{children:"none"}),")."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Traversal Logic:"}),"\nSince child components are passed via the ",(0,d.jsx)(n.code,{children:"signal"}),", these functions inspect the ",(0,d.jsx)(n.code,{children:"signal"})," of each node to find the next generation of children. They support three patterns:"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Wrapper:"})," The signal is a ",(0,d.jsx)(n.code,{children:"frame"})," (single child)."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"List:"})," The signal is an ",(0,d.jsx)(n.code,{children:"array"})," (list of children)."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Container:"})," The signal is a ",(0,d.jsx)(n.code,{children:"dictionary"})," with a ",(0,d.jsx)(n.code,{children:"children"})," key."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"query.collect(children, kind: none, depth: 10)\nquery.collect-signals(children, kind: none, depth: 10)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"children"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"array<frame>"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The root list of frames to start searching from."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"kind"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"str"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"none"})}),(0,d.jsxs)(n.td,{children:["The component kind to filter by. If ",(0,d.jsx)(n.code,{children:"none"}),", collects all descendants."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"depth"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"int"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"10"})}),(0,d.jsx)(n.td,{children:"The maximum recursion depth to traverse."})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"collect"}),": ",(0,d.jsx)(n.code,{children:"array<frame>"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"collect-signals"}),": ",(0,d.jsx)(n.code,{children:"array<any>"})]}),"\n"]}),"\n",(0,d.jsx)(n.admonition,{title:'"Ghost" Nodes',type:"info",children:(0,d.jsx)(n.p,{children:"These functions automatically filter out non-frame data found in signals (e.g., strings or config objects) during traversal to ensure they only recurse into valid component frames."})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:'// Flatten the tree and get all ingredient data\nlet all-ingredients = query.collect-signals(children, "ingredient")\n'})}),"\n",(0,d.jsxs)(n.h3,{id:"where--where-signals",children:[(0,d.jsx)(n.code,{children:"where"})," / ",(0,d.jsx)(n.code,{children:"where-signals"})]}),"\n",(0,d.jsx)(n.p,{children:"Filters children using a custom predicate function."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"query.where(children, predicate)\nquery.where-signals(children, predicate)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"children"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"array<frame>"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The list of frames to filter."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"predicate"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"function"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsxs)(n.td,{children:["A function ",(0,d.jsx)(n.code,{children:"frame => bool"})," that returns ",(0,d.jsx)(n.code,{children:"true"})," for items to keep."]})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"where"}),": ",(0,d.jsx)(n.code,{children:"array<frame>"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"where-signals"}),": ",(0,d.jsx)(n.code,{children:"array<any>"})]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"// Find all components with a cost signal greater than 100\nlet expensive = query.where-signals(children, c => c.signal.cost > 100)\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"data-extraction--aggregation",children:"Data Extraction & Aggregation"}),"\n",(0,d.jsxs)(n.p,{children:["These functions operate on the ",(0,d.jsx)(n.code,{children:"signal"})," data carried by the components, helping you calculate totals or extract lists of values."]}),"\n",(0,d.jsx)(n.h3,{id:"pluck",children:(0,d.jsx)(n.code,{children:"pluck"})}),"\n",(0,d.jsxs)(n.p,{children:["Extracts a specific field from the ",(0,d.jsx)(n.code,{children:"signal"})," of each child, returning an array of values."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"query.pluck(children, key, default: none)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"children"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"array<frame>"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The list of frames to process."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"key"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"str"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsxs)(n.td,{children:["The key to look up in each child's ",(0,d.jsx)(n.code,{children:"signal"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"default"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"any"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"none"})}),(0,d.jsx)(n.td,{children:"Value to use if the key is missing in a signal."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"sum-signals",children:(0,d.jsx)(n.code,{children:"sum-signals"})}),"\n",(0,d.jsxs)(n.p,{children:["Sums up a specific numeric field from the signals of all children. This is a shorthand for ",(0,d.jsx)(n.code,{children:"pluck(..).sum()"}),"."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"query.sum-signals(children, key, default: 0)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"children"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"array<frame>"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The list of frames to process."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"key"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"str"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsxs)(n.td,{children:["The key containing the number in ",(0,d.jsx)(n.code,{children:"child.signal"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"default"})}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.code,{children:"int"})," or ",(0,d.jsx)(n.code,{children:"float"})]}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"0"})}),(0,d.jsx)(n.td,{children:"Value to use if the key is missing or invalid."})]})]})]}),"\n",(0,d.jsxs)(n.h3,{id:"group-by--group-signals",children:[(0,d.jsx)(n.code,{children:"group-by"})," / ",(0,d.jsx)(n.code,{children:"group-signals"})]}),"\n",(0,d.jsx)(n.p,{children:"Groups children into a dictionary based on a value in their signal."}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"query.group-by(children, key)\nquery.group-signals(children, key)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"children"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"array<frame>"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The list of frames to group."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"key"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"str"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The signal key to use as the grouping category."})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Returns:"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"group-by"}),": ",(0,d.jsx)(n.code,{children:"dictionary<str, array<frame>>"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"group-signals"}),": ",(0,d.jsx)(n.code,{children:"dictionary<str, array<any>>"})]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:'// Group ingredient data by category\nlet groups = query.group-signals(ingredients, "category")\n// -> (fruit: ((name: "Apple"), ...), veg: (...))\n'})}),"\n",(0,d.jsx)(n.h3,{id:"fold",children:(0,d.jsx)(n.code,{children:"fold"})}),"\n",(0,d.jsxs)(n.p,{children:["Aggregates data from a list of children using a custom reducer function. This operates directly on the ",(0,d.jsx)(n.code,{children:"signal"})," of the children."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"query.fold(children, fn, base)\n"})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"children"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"array<frame>"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The list of frames to process."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"fn"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"function"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsxs)(n.td,{children:["Reducer ",(0,d.jsx)(n.code,{children:"(acc, signal) => new_acc"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"base"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"any"})}),(0,d.jsx)(n.td,{children:"Required"}),(0,d.jsx)(n.td,{children:"The initial value for the accumulator."})]})]})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Example:"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-typ",children:"let total-value = query.fold(children, (acc, sig) => acc + sig.value, 0)\n"})})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453(e,n,r){r.d(n,{R:()=>c,x:()=>l});var s=r(6540);const d={},i=s.createContext(d);function c(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);